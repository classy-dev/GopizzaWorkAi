# 번역 청크 크기 관련 정보

## 현재 설정
- 청크 크기: 5000자
- 적용 일자: 2025-03-31
- 적용 모델: Gemini 2.0 Flash
-## 수정된 파일 및 위치
1. /pages/api/translate/document/analyze-html.ts
- MAX_TEXT_CHUNK_SIZE $7: 5000
- 2. / components/translate/translation/TranslationSettings.tsx
- 기본 chunkSize 값: 5000
- 3. /stores/translate/DocumentStore.ts
- maxChars 값: 5000
- 관련 주석: 5000자로 제한" 및 5000자 단위"
4. /stores/translate/TranslationStore.ts
- 주석: 5000자보다 크면"'
- maxSize 기본값: 5000
## Gemini 2.0 Flash 모델 스펙
- 입력 컨텍스트 창: 100만 토큰
- 출력 토큰 제한: 8, 192 토큰 (약 4,000자 정도의 한글에 해당)
## 청크 크기 결정 고려사항
1. 토큰 변환율: 한글은 대략 1글자가 1.5~3 토큰으로 변환됨 (평균 약 2 토큰/글자)
2. 출력 제한: 모델의 출력 토큰 제한을 초과하지 않도록 입력 크기 조절 필요
3. 번역 품질: 큰 청크는 더 많은 문맥 정보를 제공하여 번역 품질 향상 가능
4. 처리 시간 및 비용: 큰 청크는 API 호출 횟수 감소로 효율적이나, 각 요청의 처리 시간과 비용 증가
## 권장 최적화 방향
- 번역 품질과 속도를 모니터링하면서 필요에 따라 조정
- 청크 크기 증가 시 모델 출력 제한을 고려하여 보수적으로 접근
- 최적의 청크 크기는 대상 언어와 텍스트 특성에 따라 다를 수 있음
- 필요시 다양한 크기(예: 2000자, 5000자, 3000자)로 A/B 테스트 진행 고려
## 잠재적 개선 방안
- 단순 글자 수 기반이 아닌 의미 단위 (문장, 단락)로 청크 분할 로직 개선
- 복잡한 표나 특수 구조의 문서에 대한 특별 처리 로직 추가
- 실시간 토큰 계산을 통한 동적 청크 크기 조정 메커니즘 도입